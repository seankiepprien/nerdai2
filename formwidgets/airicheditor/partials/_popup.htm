<?= Form::open(['data-request' => 'onGenerateAIResponse']) ?>

<div class="modal-header">
    <h4 class="modal-title">Generate AI Text</h4>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>

<div class="modal-body">
    <div class="form-group">
        <label for="aiPrompt">Enter your prompt</label>
        <textarea
            id="aiPrompt"
            name="aiPrompt"
            class="form-control"
            rows="3"
            placeholder="Type your prompt here..."></textarea>
    </div>

    <div class="form-group mt-3">
        <label for="aiResponse">AI Response</label>
        <textarea
            id="aiResponse"
            name="aiResponse"
            class="form-control"
            rows="5"
            readonly
            placeholder="The AI-generated HTML will appear here..."></textarea>
    </div>

    <div class="form-group mt-3">
        <label for="preview">HTML Preview</label>
        <iframe
            id="AIHtmlPreview"
            class="form-control"
            style="width: 100%; height: 200px; border: 1px solid #ddd;"
        ></iframe>
    </div>
</div>

<div class="modal-footer">
    <button
        type="button"
        data-request="onGenerateAIResponse"
        data-request-success="updatePreview(data.result);"
        data-attach-loading
        class="btn btn-primary">
        Generate
    </button>

    <button
        type="button"
        data-request="onAddAIToEditor"
        data-request-complete="$('.modal').trigger('close.oc.popup');"
        data-attach-loading
        class="btn btn-success">
        Add to Editor
    </button>

    <button
        type="button"
        class="btn btn-default"
        data-dismiss="popup">
        Cancel
    </button>
</div>

<?= Form::close() ?>
